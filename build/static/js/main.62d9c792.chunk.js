(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{162:function(e,t,a){e.exports=a(458)},173:function(e,t,a){},175:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},176:function(e,t,a){},458:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(11),c=a.n(l),o=a(50),i="EDIT NAME",u="EDIT DATE",s="EDIT REGION",m="EDIT CONTECT",d="EDIT EDUCATION",p="EDIT EDUCATION INFO",E="CREATE WORK",b="EDIT WORK",f="LOG IN",h="LOG OUT",v="OVER WRITE ALL",g="ADD PASSWORD",O="ADD USERNAME";function y(e){return{type:i,text:e}}function j(e){return{type:u,text:e}}function x(e){return{type:s,text:e}}function k(e){return{type:d,text:e}}function C(e){return{type:m,contactObject:e}}function w(e){return{type:p,eduObject:e}}function S(e){return{type:b,workObj:e}}function I(){return{type:f}}var N=a(35),D=function e(t,a,n){Object(N.a)(this,e),this.index=t,this.name=a,this.link=n},B=function e(t){Object(N.a)(this,e),this.index=t,this.school="",this.startDate=new Date(0),this.endDate=new Date(0),this.major="",this.courses=""},F=function e(t){Object(N.a)(this,e),this.index=t,this.company="",this.jobTitle="",this.startDate=new Date(0),this.endDate=new Date(0),this.description=""},M={login:!1,name:"",password:"",profile:{name:"",date:new Date(0),region:"",education:"",contact:[new D(0)],educationExperience:[new B(0)],workExperience:[new F(0)]},style:{themeColor:""}};var R=Object(o.b)({updateUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0,a=e.profile;switch(t.type){case i:return a.name=t.text,console.log(e),Object.assign({},e,a);case u:return a.date=t.text,Object.assign({},e,a);case s:return a.region=t.text,Object.assign({},e,a);case d:return a.education=t.text,Object.assign({},e,a);case m:return a.contact=t.contactObject,Object.assign({},e,a);case p:return a.educationExperience=t.eduObject,Object.assign({},e,a);case E:return a.workExperience=[new F(0)],Object.assign({},e,a);case b:return a.workExperience=t.workObj,Object.assign({},e,a);default:return e}},updateStyle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M;return arguments.length>1&&arguments[1],e},loginStatusChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:var a={login:!0};return r=Object.assign({},e,a);case h:return Object.assign({},M);case v:var n={name:t.all.name,profile:JSON.parse(t.all.profile),password:t.all.password,style:JSON.parse(t.all.style)},r=Object.assign({},e,n);return console.log(r),r;case g:return a={password:t.password},Object.assign({},e,a);case O:return a={name:t.name},Object.assign({},e,a);default:return e}}}),T=Object(o.c)(R),L=(r.a.createContext(),a(10));a(171),a(173),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var U=a(49),A=a(95),P=a(103),W=a(105),J=a(104),z=a(106),G=a(101),H=(a(175),a(176),a(17)),K=a.n(H),q=a(31),V=a(9),Y=a(3);a(26);function $(e){var t=e.menu,a=e.value.index,n=e.callBk,l=e.index,c=e.remove,o=t.map(function(e,t){return e===t?r.a.createElement(Y.Select.Option,{value:e,key:t,selected:!0},e):r.a.createElement(Y.Select.Option,{value:e,key:t},e)}),i=r.a.createElement(Y.Select,{name:"contactMethods",key:a+"select",onChange:function(e){return n(a,"type",e)}},o);return r.a.createElement("div",{className:"contactUnit"},r.a.createElement(Y.Form.Item,{className:"contactUnit",key:a+"div"},i),r.a.createElement(Y.Form.Item,{label:"link: ",className:"contact-link"},r.a.createElement(Y.Input,{type:"text",className:"contactInput",key:a+"input",value:e.value.link,onChange:function(e){return n(a,"value",e)}})),r.a.createElement(Y.Button,{type:"text",icon:"delete",onClick:function(){return c(l)}}))}var Q=Object(L.b)(function(e){return{contacts:e.updateUser.profile.contact}})(function(e){var t=e.contacts,a=e.dispatch,l=["other","phone","facebook","gmail","linkedin","instagram","qq","wechat"],c=Object(n.useState)(!0),o=Object(V.a)(c,2),i=o[0],u=o[1],s=Object(n.useState)(t),m=Object(V.a)(s,2),d=m[0],p=m[1],E=Object(n.useState)(0),b=Object(V.a)(E,2),f=b[0],h=b[1];function v(e,t,n){var r,l=d.slice(),c=!0,o=!1,i=void 0;try{for(var u,s=l[Symbol.iterator]();!(c=(u=s.next()).done);c=!0)(r=u.value).index===e&&("type"===t?r.name=n:r.link=n)}catch(m){o=!0,i=m}finally{try{c||null==s.return||s.return()}finally{if(o)throw i}}p(l),a(C(l))}function g(e){var t=d.slice();t=t.filter(function(t){return t.index!==e}),p(t),a(C(t))}function O(){u(!i)}var y=d.map(function(e){return r.a.createElement($,{menu:l,key:e.index+"unit",index:e.index,value:e,callBk:v,remove:g})});return i?r.a.createElement("div",{className:"left-modules"},r.a.createElement("div",{className:"openedContactTitle"},y,r.a.createElement(Y.Button,{type:"plain mini",onClick:function(){var e=d.slice(),t=new D(f+1);e.push(t),p(e),h(f+1),a(C(e))}},"Add"),r.a.createElement(Y.Button,{type:"primary mini",onClick:O},"Collapse"))):r.a.createElement("div",{className:"closedContact"},r.a.createElement(Y.Button,{type:"primary mini",onClick:O},"Expand"))});function X(e){var t=e.value,a=e.index,n=e.callBk,l=e.delete;function c(e,a){t[a]=e,n(t.index,t)}return r.a.createElement("div",null,r.a.createElement(Y.Form.Item,{label:"School Name "},r.a.createElement(Y.Input,{placeholder:"\u8bf7\u8f93\u5165\u5c31\u8bfb\u5b66\u6821\u540d\u79f0",value:t.school,onChange:function(e){return c(e,"school")}})),r.a.createElement(Y.Form.Item,{label:"Time Span "},r.a.createElement(Y.Layout.Col,{span:"5"},r.a.createElement(Y.Form.Item,{labelWidth:"0px"},r.a.createElement(Y.DatePicker,{selectionMode:"month",value:t.startDate,placeholder:"start date",onChange:function(e){return c.bind(e,"startDate")}}))),r.a.createElement(Y.Layout.Col,{className:"line",span:"1"},"-"),r.a.createElement(Y.Layout.Col,{span:"5"},r.a.createElement(Y.Form.Item,{labelWidth:"0px"},r.a.createElement(Y.DatePicker,{selectionMode:"month",value:t.endDate,placeholder:"end date",onChange:function(e){return c.bind(e,"endDate")}})))),r.a.createElement(Y.Form.Item,{label:"Major "},r.a.createElement(Y.Input,{placeholder:"",value:t.major,onChange:function(e){return c(e,"major")}})),r.a.createElement(Y.Form.Item,{label:"Key Courses ",className:"courses"},r.a.createElement(Y.Input,{placeholder:"",value:t.courses,onChange:function(e){return c(e,"courses")}})),r.a.createElement(Y.Button,{type:"text",icon:"delete",onClick:function(){l(a)}}))}var Z=Object(L.b)(function(e){return{eduExp:e.updateUser.profile.educationExperience}})(function(e){var t=e.eduExp,a=e.dispatch,l=t,c=Object(n.useState)(!0),o=Object(V.a)(c,2),i=o[0],u=o[1],s=Object(n.useState)(1),m=Object(V.a)(s,2),d=m[0],p=m[1],E=Object(n.useState)(l),b=Object(V.a)(E,2),f=b[0],h=b[1],v=f.map(function(e){return r.a.createElement(X,{key:e.index,index:e.index,value:e,callBk:y,delete:O})});function g(){u(!i)}function O(e){var t=f.slice();t=t.filter(function(t){return t.index!=e}),h(t),a(w(t))}function y(e,t){var n=f.slice(),r=!0,l=!1,c=void 0;try{for(var o,i=n[Symbol.iterator]();!(r=(o=i.next()).done);r=!0)o.value.index}catch(u){l=!0,c=u}finally{try{r||null==i.return||i.return()}finally{if(l)throw c}}h(n),a(w(n))}return i?r.a.createElement(Y.Form.Item,{label:"Past Education ",className:"left-modules"},v,r.a.createElement(Y.Button,{type:"plain mini",onClick:function(){var e=new B(d);p(d+1);var t=f.slice();t.push(e),h(t),a(w(t))}},"Add"),r.a.createElement(Y.Button,{type:"primary mini",onClick:g},"Collapse")):r.a.createElement(Y.Form.Item,{label:"Past Education "},r.a.createElement(Y.Button,{type:"primary mini",onClick:g},"Expand"))});function _(e){var t=e.index,a=e.work,n=e.update,l=e.remove;function c(e,t){a[t]=e,n(a.index,a)}return r.a.createElement("div",{className:"WorkUnit"},r.a.createElement(Y.Form.Item,{label:"Company Name: "},r.a.createElement(Y.Input,{placeholder:"",value:a.company,onChange:function(e){return c(e,"company")},key:e.index+"place1"})),r.a.createElement(Y.Form.Item,{label:"Job Title "},r.a.createElement(Y.Input,{placeholder:"",value:a.jobTitle,onChange:function(e){return c(e,"jobTitle")},key:e.index+"position1"})),r.a.createElement(Y.Form.Item,{label:"Time Span "},r.a.createElement(Y.Layout.Col,{span:"3"},r.a.createElement(Y.Form.Item,{labelWidth:"0px"},r.a.createElement(Y.DatePicker,{className:"time-span",selectionMode:"month",value:a.startDate,placeholder:"Start Date",onChange:function(e){return c.bind(e,"startDate")}}))),r.a.createElement(Y.Layout.Col,{className:"line",span:"4"},"-"),r.a.createElement(Y.Layout.Col,{span:"3"},r.a.createElement(Y.Form.Item,{labelWidth:"0px"},r.a.createElement(Y.DatePicker,{className:"time-span",selectionMode:"month",value:a.endDate,placeholder:"End Date",onChange:function(e){return c.bind(e,"endDate")}})))),r.a.createElement(Y.Form.Item,{label:"Job Dscription ",className:"job-description"},r.a.createElement(Y.Input,{placeholder:"",value:a.description,onChange:function(e){return c(e,"description")}})),r.a.createElement(Y.Button,{type:"text",icon:"delete",onClick:function(){l(t)}}))}var ee=Object(L.b)(function(e){return{works:e.updateUser.profile.workExperience}})(function(e){var t=e.works,a=e.dispatch,l=Object(n.useState)(!0),c=Object(V.a)(l,2),o=c[0],i=c[1],u=Object(n.useState)(1),s=Object(V.a)(u,2),m=s[0],d=s[1],p=Object(n.useState)(t),E=Object(V.a)(p,2),b=E[0],f=E[1],h=b.map(function(e){return r.a.createElement(_,{key:e.index+"unit",index:e.index,work:e,remove:O,update:g})});function v(){i(!o)}function g(e,t){var n=b.slice(),r=!0,l=!1,c=void 0;try{for(var o,i=n[Symbol.iterator]();!(r=(o=i.next()).done);r=!0)o.value.index}catch(u){l=!0,c=u}finally{try{r||null==i.return||i.return()}finally{if(l)throw c}}f(n),a(S(n))}function O(e){var t=b.slice();t=t.filter(function(t){return t.index!==e}),f(t),a(S(t))}return o?r.a.createElement(Y.Form.Item,{label:"Work Experience ",className:"left-modules"},h,r.a.createElement(Y.Button,{type:"plain small",onClick:function(){var e=new F(m);d(m+1);var t=b.slice();t.push(e),f(t),a(S(t))}},"Add"),r.a.createElement(Y.Button,{type:"primary small",onClick:v},"Collapse")):r.a.createElement(Y.Form.Item,{label:"Work Experience "},r.a.createElement(Y.Button,{type:"primary small",onClick:v},"Expand"))}),te=a(102),ae=a.n(te),ne=(a(454),ae.a.create({baseURL:"http://45.32.81.245/",responseType:"json"}));var re=Object(L.b)(function(e){var t=e.updateUser.profile,a=e.loginStatusChange.login;return{profile:t,username:e.loginStatusChange.name,password:e.loginStatusChange.password,Name:t.name,birthDate:t.date,Region:t.region,Edu:t.education,login:a}})(function(e){var t=e.Name,a=e.Region,l=e.birthDate,c=e.Edu,o=e.dispatch,i=e.login,u=e.profile,s=e.username,m=e.password,d=Object(n.useState)(t),p=Object(V.a)(d,2),E=p[0],b=p[1],f=Object(n.useState)(a),h=Object(V.a)(f,2),v=h[0],g=h[1],O=Object(n.useState)(l),C=Object(V.a)(O,2),w=C[0],S=C[1],I=Object(n.useState)(c),N=Object(V.a)(I,2),D=N[0],B=N[1],F=Object(n.useState)(!1),M=Object(V.a)(F,2),R=M[0],T=M[1],L=Object(n.useState)(!1),U=Object(V.a)(L,2),P=U[0],W=U[1];function J(){return(J=Object(q.a)(K.a.mark(function e(){var t;return K.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i){e.next=4;break}T(!0),e.next=9;break;case 4:return e.next=6,ne.post("/edit",{name:s,password:m,profile:JSON.stringify(u)});case 6:t=e.sent,console.log(t),200==t.status&&1==t.data.affectedRows?Object(Y.Message)({message:"Your profile has been updated.",type:"success"}):Object(Y.Message)({message:"Profile update failed",type:"warning"});case 9:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}return P?r.a.createElement(A.a,{to:"/login"}):r.a.createElement(Y.Form,{labelWidth:"90"},r.a.createElement(Y.Form.Item,{label:"Name "},r.a.createElement(Y.Input,{value:E,placeholder:"Please input your name",onChange:function(e){b(e),o(y(e))}})),r.a.createElement(Y.Form.Item,{label:"Region "},r.a.createElement(Y.Select,{placeholder:"The Earth",value:v,onChange:function(e){g(e),o(x(e))}},r.a.createElement(Y.Select.Option,{label:"Shanghai",value:"Shanghai"}),r.a.createElement(Y.Select.Option,{label:"Beijing",value:"Beijing"}),r.a.createElement(Y.Select.Option,{label:"Guangdong",value:"Guangdong"}),r.a.createElement(Y.Select.Option,{label:"Bay Area",value:"Bay Area"}),r.a.createElement(Y.Select.Option,{label:"East Coast",value:"East Coast"}))),r.a.createElement(Y.Form.Item,{label:"Birthdate "},r.a.createElement(Y.DatePicker,{selectionMode:"month",value:w,placeholder:"PLease choose month and year",onChange:function(e){S(e),o(j(e))}})),r.a.createElement(Y.Form.Item,{label:"Education "},r.a.createElement(Y.Select,{value:D,placeholder:"Please input your highest education level",onChange:function(e){B(e),o(k(e))}},r.a.createElement(Y.Select.Option,{label:"Junor High",value:"Junor High"}),r.a.createElement(Y.Select.Option,{label:"Senior High",value:"Senior High"}),r.a.createElement(Y.Select.Option,{label:"Bachelor",value:"Bachelor"}),r.a.createElement(Y.Select.Option,{label:"Master",value:"Master"}),r.a.createElement(Y.Select.Option,{label:"phD or higher",value:"phD or higher"}))),r.a.createElement(Y.Form.Item,{label:"Contact "},r.a.createElement(Q,null)),r.a.createElement(Z,null),r.a.createElement(ee,null),r.a.createElement(Y.Dialog,{title:"Alert",size:"small",visible:R,onCancel:function(){return T(!1)},lockScroll:!1},r.a.createElement(Y.Dialog.Body,null,r.a.createElement("span",null,"Please login before you update your webpage content")),r.a.createElement(Y.Dialog.Footer,{className:"dialog-footer"},r.a.createElement(Y.Button,{onClick:function(){return T(!1)}},"Cancel"),r.a.createElement(Y.Button,{type:"primary",onClick:function(){T(!1),W(!0)}},"Login or Register"))),r.a.createElement(Y.Form.Item,null,r.a.createElement(Y.Button,{type:"primary",onClick:function(){return J.apply(this,arguments)}},"Deploy my Webpage"),r.a.createElement(Y.Button,null,"Cancel")))}),le=function(e){function t(e){return Object(N.a)(this,t),Object(W.a)(this,Object(J.a)(t).call(this,e))}return Object(z.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){var e=this.props.profile;this.props.upd;return r.a.createElement("div",{className:"LeftPanel"},r.a.createElement(re,{user:e}))}}]),t}(n.Component);var ce=Object(L.b)(function(e){return{user:e.updateUser.profile}})(le);var oe=Object(L.b)(function(e){return{contactLst:e.updateUser.profile.contact}})(function(e){var t=e.contactLst.map(function(e){return r.a.createElement(Y.Button,{key:e.index},e.name)});return r.a.createElement(Y.Layout.Row,{gutter:"20",className:"contact-div"},r.a.createElement(Y.Layout.Col,{span:"12",offset:"6"},t))});var ie=Object(L.b)(function(e){var t=e.updateUser.profile;return{name:t.name,region:t.region,date:t.date,education:t.education}})(function(e){var t=e.name,a=e.region,n=(e.date,e.education);return r.a.createElement("div",null,r.a.createElement(Y.Card,null,r.a.createElement("div",null,"My name is ",t),r.a.createElement("div",null,"I currently live in ",a),r.a.createElement("div",null,"Education: ",n)),r.a.createElement(oe,null))});var ue=Object(L.b)(function(e){return{eduExp:e.updateUser.profile.educationExperience}})(function(e){var t=e.eduExp.map(function(e){return r.a.createElement(Y.Card,{key:e.index},r.a.createElement("div",null,"School Name: ",e.school),r.a.createElement("div",null,"Major: ",e.major),r.a.createElement("div",null,"Fields of study: ",e.courses))});return r.a.createElement(Y.Layout.Row,{className:"educationExperience"},t)});var se=Object(L.b)(function(e){return{work:e.updateUser.profile.workExperience}})(function(e){var t=e.work.map(function(e){return r.a.createElement(Y.Card,{key:e.index+"card"},r.a.createElement("div",null,"Comapny Name: ",e.company),r.a.createElement("div",null,"Job Title: ",e.jobTitle),r.a.createElement("div",null,"Description: ",e.description))});return r.a.createElement("div",null,t)});function me(e){return r.a.createElement(Y.Button,{type:"primary",onClick:function(){return e.expandRight()},icon:"view"})}var de=Object(L.b)(function(e){return{user:e.updateUser.profile}})(function(e,t){t.user;var a,l=Object(n.useState)("bio"),c=Object(V.a)(l,2),o=c[0],i=c[1];return"bio"===o?a=r.a.createElement(ie,null):"edu"===o?a=r.a.createElement(ue,null):"work"===o&&(a=r.a.createElement(se,null)),r.a.createElement("div",{className:"RightPanel"},r.a.createElement(Y.Menu,{theme:"dark",defaultActive:"1",className:"el-menu-demo",mode:"horizontal",onSelect:function(e){i(e)}.bind(this)},r.a.createElement(Y.Menu.Item,{index:"bio"},"Basic Info"),r.a.createElement(Y.Menu.Item,{index:"edu"},"Education"),r.a.createElement(Y.Menu.Item,{index:"work"},"Work Experience")),r.a.createElement("div",{className:"right-panel-body"},a),r.a.createElement(me,{expandRight:e.expandRight}))}),pe=a(111);var Ee=Object(L.b)(function(e){return{login:e.loginStatusChange.login,name:e.updateUser.name}})(function(e){var t,a=e.login,l=e.name,c=Object(n.useState)(a),o=Object(V.a)(c,2),i=o[0],u=o[1],s=Object(n.useState)(!1),m=Object(V.a)(s,2),d=m[0],p=m[1],E=Object(n.useState)(!1),b=Object(V.a)(E,2),f=b[0],h=b[1],v=Object(n.useState)(!1),g=Object(V.a)(v,2),O=g[0],y=g[1];var j=a?"log out":"login";return i?r.a.createElement(A.a,{to:"/login"}):d?r.a.createElement(A.a,{to:"/home/"+l}):O?r.a.createElement(A.a,{to:"/"}):r.a.createElement("div",null,r.a.createElement(Y.Menu,(t={theme:"dark",defaultActive:"1",className:"el-menu-demo",mode:"horizontal"},Object(pe.a)(t,"className","bg-light topNav"),Object(pe.a)(t,"onSelect",function(e){"2-1"===e?a?y(!0):u(!i):"1"===e&&(a?p(!0):h(!0))}),t),r.a.createElement("div",{className:"navbar-brand"},"Cloud Resume"),r.a.createElement(Y.Menu.Item,{index:"1",className:"nav-link"},"Visit My Webpage"),r.a.createElement(Y.Menu.Item,{index:"2-1",className:"nav-link"},j),r.a.createElement(Y.Dialog,{title:"Alert",size:"small",visible:f,onCancel:function(){return h(!1)},lockScroll:!1},r.a.createElement(Y.Dialog.Body,null,r.a.createElement("span",null,"Please login before you can preview your webpage")),r.a.createElement(Y.Dialog.Footer,{className:"dialog-footer"},r.a.createElement(Y.Button,{onClick:function(){return h(!1)}},"Cancel"),r.a.createElement(Y.Button,{type:"primary",onClick:function(){h(!1),u(!0)}},"Login or Register")))))}),be=function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(W.a)(this,Object(J.a)(t).call(this,e))).binded=a.expandRight.bind(Object(G.a)(Object(G.a)(a))),a.state={rightIsExpanded:!1},a}return Object(z.a)(t,e),Object(P.a)(t,[{key:"expandRight",value:function(){this.setState({rightIsExpanded:!this.state.rightIsExpanded})}},{key:"render",value:function(){return this.state.rightIsExpanded?r.a.createElement("div",null,r.a.createElement(Ee,null),r.a.createElement(Y.Layout.Col,{span:"24"},r.a.createElement(de,{className:"expanded",expandRight:this.binded}))):r.a.createElement("div",null,r.a.createElement(Ee,null),r.a.createElement(Y.Layout.Col,{span:"12"},r.a.createElement(ce,{className:"LeftPanel"})),r.a.createElement(Y.Layout.Col,{span:"12"},r.a.createElement(de,{className:"RightPanel",expandRight:this.binded})))}}]),t}(n.Component);var fe=Object(L.b)(function(e){return{}})(be);var he=Object(L.b)(function(e){return{user:e.updateUser.profile,login:e.loginStatusChange.login}},function(e){return console.log(e),{dispatch:e}})(function(e,t){var a=t.user;t.login,t.dispatch,console.log(window.location.href);var l=e.dispatch;console.log(l);var c=e.location.pathname.split("/")[2],o=Object(n.useState)(a),i=Object(V.a)(o,2),u=(i[0],i[1]),s=Object(n.useState)(""),m=Object(V.a)(s,2);m[0],m[1],Object(n.useEffect)(function(){function e(){return(e=Object(q.a)(K.a.mark(function e(){var t,a;return K.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.get("/view",{params:{name:c}});case 2:200==(t=e.sent).status?(a=JSON.parse(t.data.profile),u(t.data.profile),console.log(a),l(y(a.name)),l(x(a.region)),l(k(a.education)),l(C(a.contact)),l(S(a.workExperience)),l(w(a.educationExperience))):Object(Y.Message)({showClose:!0,message:"Network Error",type:"error"});case 4:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]);var d,p=Object(n.useState)("bio"),E=Object(V.a)(p,2),b=E[0],f=E[1];return"bio"===b?d=r.a.createElement(ie,null):"edu"===b?d=r.a.createElement(ue,null):"work"===b&&(d=r.a.createElement(se,null)),r.a.createElement("div",{className:e.className},r.a.createElement(Y.Menu,{theme:"dark",defaultActive:"1",className:"el-menu-demo",mode:"horizontal",onSelect:function(e){f(e)}.bind(this)},r.a.createElement(Y.Menu.Item,{index:"bio"},"\u57fa\u7840\u4fe1\u606f"),r.a.createElement(Y.Menu.Item,{index:"edu"},"\u5b66\u672f\u7ecf\u5386"),r.a.createElement(Y.Menu.Item,{index:"work"},"\u5c31\u4e1a\u7ecf\u5386")),d)});var ve=Object(L.b)(function(e){return{profile:e.updateUser.profile,style:e.updateStyle.style}})(function(e){var t,a=e.dispatch,l=e.profile,c=e.style,o=l,i=Object(n.useState)("login"),u=Object(V.a)(i,2),s=u[0],m=u[1],d=Object(n.useState)(""),p=Object(V.a)(d,2),E=p[0],b=p[1],f=Object(n.useState)(""),h=Object(V.a)(f,2),v=h[0],N=h[1],D=Object(n.useState)("Don't have an account"),B=Object(V.a)(D,2),F=B[0],M=B[1],R=Object(n.useState)(!1),T=Object(V.a)(R,2),L=T[0],U=T[1],P=Object(n.useState)(""),W=Object(V.a)(P,2),J=W[0],z=W[1];function G(){return(G=Object(q.a)(K.a.mark(function e(){var n;return K.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("login"!==s){e.next=14;break}return e.prev=1,e.next=4,ne.get("/login",{params:{name:E,password:v}});case 4:t=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:console.log(t),null!=t&&200==t.status?(z(""),U(!0),n=JSON.parse(t.data.profile),a(y(n.name)),a(x(n.region)),a(k(n.education)),a(C(n.contact)),a(j(new Date(n.date))),a(w(n.educationExperience)),a(S(n.workExperience)),a(I())):z("user not found"),e.next=26;break;case 14:return e.prev=14,console.log(o),e.next=18,ne.post("/register",{name:E,password:v,profile:JSON.stringify(o),style:JSON.stringify(c)});case 18:t=e.sent,e.next=24;break;case 21:e.prev=21,e.t1=e.catch(14),console.log(e.t1);case 24:console.log(t),null!=t&&200==t.status?(console.log("here"),U(!0),a(I()),z("register succeeded")):z("registration failed, please contact developer");case 26:case"end":return e.stop()}},e,this,[[1,7],[14,21]])}))).apply(this,arguments)}return console.log(L),L?r.a.createElement(A.a,{to:"/"}):r.a.createElement("div",{className:"loginPage"},r.a.createElement(Y.Card,{className:"login"},r.a.createElement(Y.Form,null,r.a.createElement(Y.Form.Item,{label:"userName: "},r.a.createElement(Y.Input,{onChange:function(e){b(e),a({type:O,name:e})}})),r.a.createElement(Y.Form.Item,{label:"password:"},r.a.createElement(Y.Input,{onChange:function(e){N(e),a({type:g,password:e})}})),r.a.createElement(Y.Button,{plain:!0,onClick:function(){"login"===s?(m("register"),M("Already have account?")):(m("login"),M("Don't have an account"))}},F),r.a.createElement(Y.Button,{onClick:function(){return G.apply(this,arguments)}},s),r.a.createElement(Y.Button,{onClick:function(){return U(!0)}},"back"),r.a.createElement("div",null,J))))});var ge=Object(L.b)(function(e){return{}})(function(){return r.a.createElement(U.a,null,r.a.createElement("div",null,r.a.createElement(A.b,{exact:!0,path:"/",component:fe}),r.a.createElement(A.b,{path:"/home",component:he}),r.a.createElement(A.b,{path:"/login",component:ve})))}),Oe=document.getElementById("root");c.a.render(r.a.createElement(L.a,{store:T},r.a.createElement(ge,null)),Oe),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[162,2,1]]]);
//# sourceMappingURL=main.62d9c792.chunk.js.map
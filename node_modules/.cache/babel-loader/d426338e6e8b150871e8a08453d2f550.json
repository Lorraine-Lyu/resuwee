{"ast":null,"code":"import _slicedToArray from \"/Users/lorrainelyu/Desktop/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/lorrainelyu/Desktop/my-app/src/layout/leftPanel/EducationInfo.js\";\nimport React, { useState } from 'react';\nimport { education } from '../util';\nimport { Button, Input, Select, Layout, Form, DatePicker } from 'element-react';\nimport 'element-theme-default';\nimport { editEducationInfo } from '../../store/actions';\nimport { connect } from 'react-redux';\n\nvar EducationInfo = function EducationInfo(_ref) {\n  var dispatch = _ref.dispatch;\n  var edu1 = new education(0);\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      isOpen = _useState2[0],\n      setIsOpen = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      count = _useState4[0],\n      setCount = _useState4[1];\n\n  var _useState5 = useState([edu1]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      eduLst = _useState6[0],\n      setEduLst = _useState6[1];\n\n  var toShow = eduLst.map(function (edu) {\n    return React.createElement(EducationUnit, {\n      key: edu.index,\n      value: edu,\n      callBk: update,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 13\n      },\n      __self: this\n    });\n  });\n\n  function switchState() {\n    setIsOpen(!isOpen);\n  }\n\n  function add() {\n    setCount(count + 1);\n    var newEdu = new education(count);\n    var nlst = eduLst.slice();\n    nlst.push(newEdu);\n    setEduLst(nlst);\n    dispatch(editEducationInfo(nlst));\n  }\n\n  function update(index, obj) {\n    var e;\n    var nlst = eduLst.slice();\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = nlst[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        e = _step.value;\n\n        if (e.index === index) {\n          e = JSON.parse(JSON.stringify(obj));\n        }\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return != null) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n\n    setEduLst(nlst);\n    dispatch(editEducationInfo(nlst));\n  }\n\n  if (!isOpen) {\n    return React.createElement(Form.Item, {\n      label: \"\\u5B66\\u672F\\u7ECF\\u5386 \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, React.createElement(Button, {\n      type: \"primary small\",\n      onClick: switchState,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, \"Expand\"));\n  } else {\n    return React.createElement(Form.Item, {\n      label: \"\\u5B66\\u672F\\u7ECF\\u5386 \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, toShow, React.createElement(Button, {\n      type: \"primary small\",\n      onClick: add,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, \"Add\"), React.createElement(Button, {\n      type: \"primary small\",\n      onClick: switchState,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \"Collapse\"));\n  }\n};\n\nfunction EducationUnit(props) {\n  var edu = props.value;\n  var index = props.index;\n  var update = props.callBk;\n\n  function _onChange(value, key) {\n    edu[key] = value;\n    update(index, edu); // forceUpdate();\n  }\n\n  ;\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, React.createElement(Form.Item, {\n    label: \"\\u6240\\u5728\\u5B66\\u6821\\uFF1A \",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, React.createElement(Input, {\n    placeholder: \"\\u8BF7\\u8F93\\u5165\\u5C31\\u8BFB\\u5B66\\u6821\\u540D\\u79F0\",\n    onChange: function onChange(e) {\n      return _onChange(e, 'school');\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  })), React.createElement(Form.Item, {\n    label: \"\\u65F6\\u95F4\\uFF1A \",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, React.createElement(Layout.Col, {\n    span: \"8\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(Form.Item, {\n    labelWidth: \"0px\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, React.createElement(DatePicker, {\n    value: edu.startDate,\n    placeholder: \"\\u9009\\u62E9\\u5F00\\u59CB\\u65E5\\u671F\",\n    onChange: function onChange(e) {\n      return _onChange.bind(e, 'startDate');\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }))), React.createElement(Layout.Col, {\n    className: \"line\",\n    span: \"2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, \"-\"), React.createElement(Layout.Col, {\n    span: \"8\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, React.createElement(Form.Item, {\n    labelWidth: \"0px\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(DatePicker, {\n    value: edu.endDate,\n    placeholder: \"\\u9009\\u62E9\\u7ED3\\u675F\\u65E5\\u671F\",\n    onChange: function onChange(e) {\n      return _onChange.bind(e, 'endDate');\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  })))), React.createElement(Form.Item, {\n    label: \"\\u4E13\\u4E1A\\uFF1A \",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, React.createElement(Input, {\n    placeholder: \"\\u8BF7\\u8F93\\u5165\\u4E3B\\u8981\\u4E13\\u4E1A\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  })), React.createElement(Form.Item, {\n    label: \"\\u4E13\\u4E1A\\u8BFE\\u7A0B\\uFF1A \",\n    onChange: function onChange(e) {\n      return _onChange(e, \"courses\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, React.createElement(Input, {\n    placeholder: \"\\u8BF7\\u8F93\\u5165\\u4E3B\\u8981\\u5B66\\u4E60\\u8BFE\\u7A0B\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  })));\n}\n\nfunction mapStateToProps(state) {\n  // console.log();\n  var eduExp = state.updateUser.user.educationExperience.eduExp;\n  return {\n    eduExp: eduExp\n  };\n}\n\nexport default connect(mapStateToProps)(EducationInfo);","map":{"version":3,"sources":["/Users/lorrainelyu/Desktop/my-app/src/layout/leftPanel/EducationInfo.js"],"names":["React","useState","education","Button","Input","Select","Layout","Form","DatePicker","editEducationInfo","connect","EducationInfo","dispatch","edu1","isOpen","setIsOpen","count","setCount","eduLst","setEduLst","toShow","map","edu","index","update","switchState","add","newEdu","nlst","slice","push","obj","e","JSON","parse","stringify","EducationUnit","props","value","callBk","onChange","key","startDate","bind","endDate","mapStateToProps","state","eduExp","updateUser","user","educationExperience"],"mappings":"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","sourcesContent":["import React, { useState} from 'react';\nimport {education} from '../util';\nimport { Button, Input, Select, Layout, Form, DatePicker} from 'element-react';\nimport 'element-theme-default';\nimport { editEducationInfo } from '../../store/actions';\nimport { connect } from 'react-redux';\n\nconst EducationInfo = ({dispatch}) => {\n      var edu1 = new education(0);\n      const [isOpen, setIsOpen] = useState(true);\n      const [count, setCount] = useState(0);\n      const [eduLst, setEduLst] = useState([edu1]);\n      const toShow = eduLst.map((edu)=> <EducationUnit key={edu.index} value={edu} callBk={update}></EducationUnit>);\n\n      function switchState() {\n        setIsOpen(!isOpen);\n      }\n    \n      function add() {\n        setCount(count+1);\n        const newEdu= new education(count);\n        var nlst = eduLst.slice();\n        nlst.push(newEdu);\n        setEduLst(nlst)\n        dispatch(editEducationInfo(nlst));\n      }\n\n      function update(index, obj) {\n        var e;\n        var nlst = eduLst.slice();\n        for (e of nlst) {\n          if (e.index === index) {\n            e = JSON.parse(JSON.stringify(obj));\n          }\n        }\n        setEduLst(nlst);\n        dispatch(editEducationInfo(nlst));\n      }\n\n      if(!isOpen) {\n          return(\n            <Form.Item label=\"学术经历 \">\n              <Button type=\"primary small\" onClick={switchState}>Expand</Button>\n            </Form.Item>\n          )\n      } else {\n          return(\n              <Form.Item label=\"学术经历 \">\n                  {toShow}\n                  <Button type=\"primary small\" onClick={add}>Add</Button>\n                  <Button type=\"primary small\" onClick={switchState}>Collapse</Button>\n              </Form.Item>\n          )\n      }\n}\n\nfunction EducationUnit (props) {\n  let edu = props.value;\n  let index = props.index;\n  let update = props.callBk;\n\n  function onChange(value, key) {\n    edu[key] = value;\n    update(index, edu);\n    // forceUpdate();\n  };\n\n  return(\n    <div>\n      <Form.Item label=\"所在学校： \">\n        <Input placeholder=\"请输入就读学校名称\" onChange={(e)=>onChange(e, 'school')}></Input>\n      </Form.Item>\n      <Form.Item label=\"时间： \">\n        <Layout.Col span=\"8\">\n          <Form.Item labelWidth=\"0px\">\n            <DatePicker\n              value={edu.startDate}\n              placeholder=\"选择开始日期\"\n              onChange={(e)=> onChange.bind(e, 'startDate')}\n            />\n          </Form.Item>\n        </Layout.Col>\n        <Layout.Col className=\"line\" span=\"2\">-</Layout.Col>\n        <Layout.Col span=\"8\">\n          <Form.Item labelWidth=\"0px\">\n            <DatePicker\n              value={edu.endDate}\n              placeholder=\"选择结束日期\"\n              onChange={(e)=>onChange.bind(e, 'endDate')}\n            />\n          </Form.Item>\n          </Layout.Col>\n        </Form.Item>\n      <Form.Item label=\"专业： \">\n        <Input placeholder=\"请输入主要专业\"></Input>\n      </Form.Item>\n      <Form.Item label=\"专业课程： \" onChange={(e)=> onChange(e, \"courses\")}>\n        <Input placeholder=\"请输入主要学习课程\"></Input>\n      </Form.Item>\n    </div>\n\n  );\n}\n\nfunction mapStateToProps(state) {\n    // console.log();\n    var {eduExp} = state.updateUser.user.educationExperience;\n    return {eduExp};\n}\n\nexport default connect(mapStateToProps)(EducationInfo);"]},"metadata":{},"sourceType":"module"}
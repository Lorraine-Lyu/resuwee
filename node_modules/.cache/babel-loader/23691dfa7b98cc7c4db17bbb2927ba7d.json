{"ast":null,"code":"import _slicedToArray from \"/Users/lorrainelyu/Desktop/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/lorrainelyu/Desktop/my-app/src/layout/leftPanel/ContactList.js\";\nimport React, { useState, Component } from 'react';\nimport { contact } from '../util';\nimport { Button, Input, Select, Form } from 'element-react';\nimport 'element-theme-default';\nimport { connect } from 'react-redux';\nimport { editContact } from '../../store/actions';\n\nvar ContactList = function ContactList(_ref) {\n  var dispatch = _ref.dispatch;\n  var menu = ['other', 'phone', 'facebook', 'gmail', 'linkedin', 'instagram', 'qq', 'wechat'];\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      isOpen = _useState2[0],\n      setIsOpen = _useState2[1];\n\n  var con = new contact();\n\n  var _useState3 = useState([con]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      contactLst = _useState4[0],\n      setContactLst = _useState4[1];\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      count = _useState6[0],\n      setCount = _useState6[1];\n\n  function update(index, type, value) {\n    var c;\n    var nlst = contactLst.slice();\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = nlst[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        c = _step.value;\n\n        if (c.index === index) {\n          if (type === \"type\") {\n            c.name = value;\n          } else {\n            c.link = value;\n          }\n        }\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return != null) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n\n    setContactLst(nlst);\n    dispatch(editContact(nlst));\n  }\n\n  function add() {\n    var newLst = contactLst.slice();\n    var c = new contact(count + 1);\n    newLst.push(c);\n    setContactLst(newLst);\n    setCount(count + 1);\n    dispatch(editContact(newLst));\n  }\n\n  ;\n\n  function remove(index) {}\n\n  ;\n\n  function switchState() {\n    setIsOpen(!isOpen);\n  }\n\n  ;\n  var input = contactLst.map(function (contact) {\n    return React.createElement(ContactUnit, {\n      menu: menu,\n      key: contact.index + 'unit',\n      index: contact.index,\n      value: contact,\n      callBk: update,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    });\n  });\n\n  if (!isOpen) {\n    return React.createElement(\"div\", {\n      className: \"closedContact\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(Button, {\n      type: \"primary small\",\n      onClick: switchState,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"Expand\"));\n  } else {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"openedContactTitle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, input, React.createElement(Button, {\n      type: \"primary small\",\n      onClick: add,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, \"Add\"), React.createElement(Button, {\n      type: \"primary small\",\n      onClick: switchState,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, \"Collapse\")));\n  }\n};\n\nfunction ContactUnit(props) {\n  var allOptions = props.menu;\n  var curr = props.value.index;\n  var update = props.callBk;\n  var options = allOptions.map(function (option, curr) {\n    if (option === curr) {\n      return React.createElement(Select.Option, {\n        value: option,\n        key: curr,\n        selected: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, option);\n    } else {\n      return React.createElement(Select.Option, {\n        value: option,\n        key: curr,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, option);\n    }\n  });\n  var select = React.createElement(Select, {\n    name: \"contactMethods\",\n    key: curr + 'select',\n    onChange: function onChange(e) {\n      return update(curr, 'type', e);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, options);\n  return React.createElement(\"div\", {\n    className: \"contactUnit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(Form.Item, {\n    className: \"contactUnit\",\n    key: curr + 'div',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, select), React.createElement(Form.Item, {\n    label: \"link: \",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, React.createElement(Input, {\n    type: \"text\",\n    className: \"contactInput\",\n    key: curr + 'input',\n    value: props.value.link,\n    onChange: function onChange(e) {\n      return update(curr, 'value', e);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  })), React.createElement(Button, {\n    type: \"text\",\n    icon: \"delete\",\n    onClick: function onClick() {\n      return remove(index);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }));\n}\n\nfunction mapStateToProps(state) {\n  var contactLst = state.updateUser.user.contact;\n  return {\n    contactLst: contactLst\n  };\n}\n\nexport default connect(mapStateToProps)(ContactList);","map":{"version":3,"sources":["/Users/lorrainelyu/Desktop/my-app/src/layout/leftPanel/ContactList.js"],"names":["React","useState","Component","contact","Button","Input","Select","Form","connect","editContact","ContactList","dispatch","menu","isOpen","setIsOpen","con","contactLst","setContactLst","count","setCount","update","index","type","value","c","nlst","slice","name","link","add","newLst","push","remove","switchState","input","map","ContactUnit","props","allOptions","curr","callBk","options","option","select","e","mapStateToProps","state","updateUser","user"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA0C,OAA1C;AACA,SAAQC,OAAR,QAAsB,SAAtB;AACA,SAASC,MAAT,EAAiBC,KAAjB,EAAwBC,MAAxB,EAAgCC,IAAhC,QAA2C,eAA3C;AACA,OAAO,uBAAP;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAASC,WAAT,QAA4B,qBAA5B;;AAEE,IAAMC,WAAW,GAAG,SAAdA,WAAc,OAAgB;AAAA,MAAdC,QAAc,QAAdA,QAAc;AAChC,MAAIC,IAAI,GAAG,CAAC,OAAD,EAAS,OAAT,EAAiB,UAAjB,EAA6B,OAA7B,EAAqC,UAArC,EAAgD,WAAhD,EAA4D,IAA5D,EAAiE,QAAjE,CAAX;;AADgC,kBAEJX,QAAQ,CAAC,IAAD,CAFJ;AAAA;AAAA,MAEzBY,MAFyB;AAAA,MAEjBC,SAFiB;;AAGhC,MAAIC,GAAG,GAAG,IAAIZ,OAAJ,EAAV;;AAHgC,mBAIIF,QAAQ,CAAC,CAACc,GAAD,CAAD,CAJZ;AAAA;AAAA,MAIzBC,UAJyB;AAAA,MAIbC,aAJa;;AAAA,mBAKNhB,QAAQ,CAAC,CAAD,CALF;AAAA;AAAA,MAKzBiB,KALyB;AAAA,MAKlBC,QALkB;;AAOhC,WAASC,MAAT,CAAgBC,KAAhB,EAAuBC,IAAvB,EAA6BC,KAA7B,EAAoC;AAClC,QAAIC,CAAJ;AACA,QAAIC,IAAI,GAAGT,UAAU,CAACU,KAAX,EAAX;AAFkC;AAAA;AAAA;;AAAA;AAGlC,2BAAUD,IAAV,8HAAgB;AAAXD,QAAAA,CAAW;;AACd,YAAIA,CAAC,CAACH,KAAF,KAAYA,KAAhB,EAAuB;AACrB,cAAIC,IAAI,KAAK,MAAb,EAAqB;AACnBE,YAAAA,CAAC,CAACG,IAAF,GAASJ,KAAT;AACD,WAFD,MAEO;AACLC,YAAAA,CAAC,CAACI,IAAF,GAASL,KAAT;AACD;AACF;AACF;AAXiC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAYlCN,IAAAA,aAAa,CAACQ,IAAD,CAAb;AACAd,IAAAA,QAAQ,CAACF,WAAW,CAACgB,IAAD,CAAZ,CAAR;AACD;;AAED,WAASI,GAAT,GAAe;AACb,QAAIC,MAAM,GAAGd,UAAU,CAACU,KAAX,EAAb;AACA,QAAIF,CAAC,GAAG,IAAIrB,OAAJ,CAAYe,KAAK,GAAG,CAApB,CAAR;AACAY,IAAAA,MAAM,CAACC,IAAP,CAAYP,CAAZ;AACAP,IAAAA,aAAa,CAACa,MAAD,CAAb;AACAX,IAAAA,QAAQ,CAACD,KAAK,GAAC,CAAP,CAAR;AACAP,IAAAA,QAAQ,CAACF,WAAW,CAACqB,MAAD,CAAZ,CAAR;AACD;;AAAA;;AAED,WAASE,MAAT,CAAgBX,KAAhB,EAAuB,CAEtB;;AAAA;;AAED,WAASY,WAAT,GAAuB;AACrBnB,IAAAA,SAAS,CAAC,CAACD,MAAF,CAAT;AACD;;AAAA;AAED,MAAMqB,KAAK,GAAGlB,UAAU,CAACmB,GAAX,CAAe,UAAChC,OAAD;AAAA,WAC3B,oBAAC,WAAD;AAAa,MAAA,IAAI,EAAES,IAAnB;AAAyB,MAAA,GAAG,EAAET,OAAO,CAACkB,KAAR,GAAc,MAA5C;AAAoD,MAAA,KAAK,EAAElB,OAAO,CAACkB,KAAnE;AAA0E,MAAA,KAAK,EAAElB,OAAjF;AAA0F,MAAA,MAAM,EAAEiB,MAAlG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAD2B;AAAA,GAAf,CAAd;;AAIA,MAAG,CAACP,MAAJ,EAAY;AACV,WACE;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,eAAb;AAA6B,MAAA,OAAO,EAAEoB,WAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,CADF;AAKD,GAND,MAMO;AACL,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGC,KADH,EAEE,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,eAAb;AAA6B,MAAA,OAAO,EAAEL,GAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAFF,EAGE,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,eAAb;AAA6B,MAAA,OAAO,EAAEI,WAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHF,CADF,CADF;AASD;AAEJ,CA9DD;;AAgEA,SAASG,WAAT,CAAsBC,KAAtB,EAA6B;AACzB,MAAMC,UAAU,GAAGD,KAAK,CAACzB,IAAzB;AACA,MAAM2B,IAAI,GAAGF,KAAK,CAACd,KAAN,CAAYF,KAAzB;AACA,MAAMD,MAAM,GAAGiB,KAAK,CAACG,MAArB;AACA,MAAMC,OAAO,GAAGH,UAAU,CAACH,GAAX,CAAe,UAASO,MAAT,EAAgBH,IAAhB,EAAqB;AAClD,QAAIG,MAAM,KAAKH,IAAf,EAAqB;AACnB,aAAO,oBAAC,MAAD,CAAQ,MAAR;AAAe,QAAA,KAAK,EAAEG,MAAtB;AAA8B,QAAA,GAAG,EAAEH,IAAnC;AAAyC,QAAA,QAAQ,MAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAoDG,MAApD,CAAP;AACD,KAFD,MAEO;AACL,aAAO,oBAAC,MAAD,CAAQ,MAAR;AAAe,QAAA,KAAK,EAAEA,MAAtB;AAA8B,QAAA,GAAG,EAAEH,IAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA0CG,MAA1C,CAAP;AACD;AACF,GANe,CAAhB;AASA,MAAMC,MAAM,GAAG,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAC,gBAAb;AAA8B,IAAA,GAAG,EAAEJ,IAAI,GAAC,QAAxC;AAAkD,IAAA,QAAQ,EAAE,kBAAAK,CAAC;AAAA,aAAIxB,MAAM,CAACmB,IAAD,EAAO,MAAP,EAAeK,CAAf,CAAV;AAAA,KAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA2FH,OAA3F,CAAf;AACA,SACE;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD,CAAM,IAAN;AAAW,IAAA,SAAS,EAAC,aAArB;AAAmC,IAAA,GAAG,EAAEF,IAAI,GAAC,KAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGI,MADH,CADF,EAIE,oBAAC,IAAD,CAAM,IAAN;AAAW,IAAA,KAAK,EAAC,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,SAAS,EAAC,cAA7B;AAA4C,IAAA,GAAG,EAAEJ,IAAI,GAAC,OAAtD;AAA+D,IAAA,KAAK,EAAEF,KAAK,CAACd,KAAN,CAAYK,IAAlF;AAAwF,IAAA,QAAQ,EAAE,kBAAAgB,CAAC;AAAA,aAAIxB,MAAM,CAACmB,IAAD,EAAO,OAAP,EAAgBK,CAAhB,CAAV;AAAA,KAAnG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAJF,EAOE,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAC,MAAb;AAAoB,IAAA,IAAI,EAAC,QAAzB;AAAkC,IAAA,OAAO,EAAE;AAAA,aAAIZ,MAAM,CAACX,KAAD,CAAV;AAAA,KAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,CADF;AAYH;;AAED,SAASwB,eAAT,CAAyBC,KAAzB,EAAgC;AAC9B,MAAI9B,UAAU,GAAG8B,KAAK,CAACC,UAAN,CAAiBC,IAAjB,CAAsB7C,OAAvC;AACA,SAAO;AAACa,IAAAA,UAAU,EAAVA;AAAD,GAAP;AACD;;AAED,eAAeR,OAAO,CAACqC,eAAD,CAAP,CAAyBnC,WAAzB,CAAf","sourcesContent":["import React, { useState, Component} from 'react';\nimport {contact} from '../util';\nimport { Button, Input, Select, Form} from 'element-react';\nimport 'element-theme-default';\nimport {connect} from 'react-redux'\nimport { editContact } from '../../store/actions';\n\n  const ContactList = ({dispatch}) => {\n      let menu = ['other','phone','facebook', 'gmail','linkedin','instagram','qq','wechat'];\n      const [isOpen, setIsOpen] = useState(true);\n      var con = new contact();\n      const [contactLst, setContactLst] = useState([con])\n      const [count, setCount] = useState(0);\n\n      function update(index, type, value) {\n        var c;\n        var nlst = contactLst.slice();\n        for (c of nlst) {\n          if (c.index === index) {\n            if (type === \"type\") {\n              c.name = value;\n            } else {\n              c.link = value;\n            }\n          }\n        }\n        setContactLst(nlst);\n        dispatch(editContact(nlst));\n      }\n\n      function add() {\n        var newLst = contactLst.slice();\n        var c = new contact(count + 1);\n        newLst.push(c);\n        setContactLst(newLst);\n        setCount(count+1);\n        dispatch(editContact(newLst));\n      };\n\n      function remove(index) {\n\n      };\n\n      function switchState() {\n        setIsOpen(!isOpen);\n      };\n\n      const input = contactLst.map((contact)=>\n        <ContactUnit menu={menu} key={contact.index+'unit'} index={contact.index} value={contact} callBk={update}></ContactUnit>\n      );\n  \n      if(!isOpen) {\n        return(\n          <div className=\"closedContact\">\n            <Button type=\"primary small\" onClick={switchState}>Expand</Button>\n          </div>\n        )\n      } else {\n        return (\n          <div>\n            <div className=\"openedContactTitle\">\n              {input}\n              <Button type=\"primary small\" onClick={add}>Add</Button>\n              <Button type=\"primary small\" onClick={switchState}>Collapse</Button>\n            </div>\n          </div>\n        )\n      }\n\n  }\n\n  function ContactUnit (props) {\n      const allOptions = props.menu;\n      const curr = props.value.index;\n      const update = props.callBk;\n      const options = allOptions.map(function(option,curr){\n        if (option === curr) {\n          return <Select.Option value={option} key={curr} selected >{option}</Select.Option>\n        } else {\n          return <Select.Option value={option} key={curr}>{option}</Select.Option>\n        }\n      }\n  \n    )\n      const select = <Select name='contactMethods' key={curr+'select'} onChange={e => update(curr, 'type', e)}>{options}</Select>\n      return (\n        <div className=\"contactUnit\">\n          <Form.Item className=\"contactUnit\" key={curr+'div'}>\n            {select} \n          </Form.Item>\n          <Form.Item label=\"link: \">\n            <Input type=\"text\" className=\"contactInput\" key={curr+'input'} value={props.value.link} onChange={e => update(curr, 'value', e)}></Input>\n          </Form.Item>\n          <Button type=\"text\" icon=\"delete\" onClick={()=>remove(index)}></Button>\n        </div>\n      )\n    \n  }\n\n  function mapStateToProps(state) {\n    var contactLst = state.updateUser.user.contact;\n    return {contactLst};\n  }\n\n  export default connect(mapStateToProps)(ContactList);\n"]},"metadata":{},"sourceType":"module"}
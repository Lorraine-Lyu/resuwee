{"ast":null,"code":"import _slicedToArray from \"/Users/lorrainelyu/Desktop/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/lorrainelyu/Desktop/my-app/src/layout/leftPanel/EducationInfo.js\";\nimport React, { useState } from 'react';\nimport { education } from '../util';\nimport { Button, Input, Select, Layout, Form, DatePicker } from 'element-react';\nimport 'element-theme-default';\nimport { editEducationInfo } from '../../store/actions';\nimport { connect } from 'react-redux';\n\nvar EducationInfo = function EducationInfo(_ref) {\n  var eduExp = _ref.eduExp,\n      dispatch = _ref.dispatch;\n  var edu1 = eduExp; // console.log(eduExp);\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      isOpen = _useState2[0],\n      setIsOpen = _useState2[1];\n\n  var _useState3 = useState(1),\n      _useState4 = _slicedToArray(_useState3, 2),\n      count = _useState4[0],\n      setCount = _useState4[1];\n\n  var _useState5 = useState(edu1),\n      _useState6 = _slicedToArray(_useState5, 2),\n      eduLst = _useState6[0],\n      setEduLst = _useState6[1];\n\n  var toShow = eduLst.map(function (eduUnit) {\n    console.log(eduUnit.index);\n    return React.createElement(EducationUnit, {\n      key: eduUnit.index,\n      value: eduUnit,\n      callBk: update,\n      delete: remove,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 14\n      },\n      __self: this\n    });\n  });\n\n  function switchState() {\n    setIsOpen(!isOpen);\n  }\n\n  function add() {\n    var newEdu = new education(count);\n    setCount(count + 1);\n    var nlst = eduLst.slice();\n    nlst.push(newEdu);\n    setEduLst(nlst);\n    dispatch(editEducationInfo(nlst));\n  }\n\n  ;\n\n  function remove(index) {\n    var nlst = eduLst.slice();\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = nlst[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var i = _step.value;\n\n        // console.log(index)\n        if (i.index === index) {\n          nlst.splice(i, 1);\n        }\n      } // console.log(nlst);\n\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return != null) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n\n    setEduLst(nlst);\n    dispatch(editEducationInfo(nlst));\n  }\n\n  ;\n\n  function update(index, obj) {\n    var e;\n    var nlst = eduLst.slice(); // console.log(obj);\n\n    var _iteratorNormalCompletion2 = true;\n    var _didIteratorError2 = false;\n    var _iteratorError2 = undefined;\n\n    try {\n      for (var _iterator2 = nlst[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n        e = _step2.value;\n\n        if (e.index === index) {\n          e = obj;\n        }\n      }\n    } catch (err) {\n      _didIteratorError2 = true;\n      _iteratorError2 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n          _iterator2.return();\n        }\n      } finally {\n        if (_didIteratorError2) {\n          throw _iteratorError2;\n        }\n      }\n    }\n\n    setEduLst(nlst);\n    dispatch(editEducationInfo(nlst));\n  }\n\n  if (!isOpen) {\n    return React.createElement(Form.Item, {\n      label: \"\\u5B66\\u672F\\u7ECF\\u5386 \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(Button, {\n      type: \"primary small\",\n      onClick: switchState,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"Expand\"));\n  } else {\n    return React.createElement(Form.Item, {\n      label: \"\\u5B66\\u672F\\u7ECF\\u5386 \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, toShow, React.createElement(Button, {\n      type: \"primary small\",\n      onClick: add,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \"Add\"), React.createElement(Button, {\n      type: \"primary small\",\n      onClick: switchState,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Collapse\"));\n  }\n};\n\nfunction EducationUnit(props) {\n  var eduUnit = props.value;\n  var index = props.key;\n  var update = props.callBk;\n  var remove = props.delete;\n  console.log(index);\n\n  function _onChange(value, key) {\n    // console.log(edu);\n    eduUnit[key] = value;\n    update(eduUnit.index, eduUnit); // forceUpdate();\n  }\n\n  ;\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, React.createElement(Form.Item, {\n    label: \"\\u6240\\u5728\\u5B66\\u6821\\uFF1A \",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, React.createElement(Input, {\n    placeholder: \"\\u8BF7\\u8F93\\u5165\\u5C31\\u8BFB\\u5B66\\u6821\\u540D\\u79F0\",\n    value: eduUnit.school,\n    onChange: function onChange(e) {\n      return _onChange(e, 'school');\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  })), React.createElement(Form.Item, {\n    label: \"\\u65F6\\u95F4\\uFF1A \",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, React.createElement(Layout.Col, {\n    span: \"8\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, React.createElement(Form.Item, {\n    labelWidth: \"0px\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, React.createElement(DatePicker, {\n    value: eduUnit.startDate,\n    placeholder: \"\\u9009\\u62E9\\u5F00\\u59CB\\u65E5\\u671F\",\n    onChange: function onChange(e) {\n      return _onChange.bind(e, 'startDate');\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }))), React.createElement(Layout.Col, {\n    className: \"line\",\n    span: \"2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, \"-\"), React.createElement(Layout.Col, {\n    span: \"8\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, React.createElement(Form.Item, {\n    labelWidth: \"0px\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, React.createElement(DatePicker, {\n    value: eduUnit.endDate,\n    placeholder: \"\\u9009\\u62E9\\u7ED3\\u675F\\u65E5\\u671F\",\n    onChange: function onChange(e) {\n      return _onChange.bind(e, 'endDate');\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  })))), React.createElement(Form.Item, {\n    label: \"\\u4E13\\u4E1A\\uFF1A \",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, React.createElement(Input, {\n    placeholder: \"\\u8BF7\\u8F93\\u5165\\u4E3B\\u8981\\u4E13\\u4E1A\",\n    value: eduUnit.major,\n    onChange: function onChange(e) {\n      return _onChange(e, 'major');\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  })), React.createElement(Form.Item, {\n    label: \"\\u4E13\\u4E1A\\u8BFE\\u7A0B\\uFF1A \",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, React.createElement(Input, {\n    placeholder: \"\\u8BF7\\u8F93\\u5165\\u4E3B\\u8981\\u5B66\\u4E60\\u8BFE\\u7A0B\",\n    value: eduUnit.courses,\n    onChange: function onChange(e) {\n      return _onChange(e, \"courses\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  })), React.createElement(Button, {\n    type: \"text\",\n    icon: \"delete\",\n    onClick: function onClick(index) {\n      console.log(index);\n      remove(index);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }));\n}\n\nfunction mapStateToProps(state) {\n  var eduExp = state.updateUser.user.educationExperience; // console.log(eduExp);\n\n  return {\n    eduExp: eduExp\n  };\n}\n\nexport default connect(mapStateToProps)(EducationInfo);","map":{"version":3,"sources":["/Users/lorrainelyu/Desktop/my-app/src/layout/leftPanel/EducationInfo.js"],"names":["React","useState","education","Button","Input","Select","Layout","Form","DatePicker","editEducationInfo","connect","EducationInfo","eduExp","dispatch","edu1","isOpen","setIsOpen","count","setCount","eduLst","setEduLst","toShow","map","eduUnit","console","log","index","update","remove","switchState","add","newEdu","nlst","slice","push","i","splice","obj","e","EducationUnit","props","value","key","callBk","delete","onChange","school","startDate","bind","endDate","major","courses","mapStateToProps","state","updateUser","user","educationExperience"],"mappings":"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","sourcesContent":["import React, { useState} from 'react';\nimport {education} from '../util';\nimport { Button, Input, Select, Layout, Form, DatePicker} from 'element-react';\nimport 'element-theme-default';\nimport { editEducationInfo } from '../../store/actions';\nimport { connect } from 'react-redux';\n\nconst EducationInfo = ({eduExp, dispatch}) => {\n      var edu1 = eduExp;\n      // console.log(eduExp);\n      const [isOpen, setIsOpen] = useState(true);\n      const [count, setCount] = useState(1);\n      const [eduLst, setEduLst] = useState(edu1);\nconst toShow = eduLst.map((eduUnit)=> {console.log(eduUnit.index);return <EducationUnit key={eduUnit.index} value={eduUnit} callBk={update} delete={remove}></EducationUnit>});\n\n      function switchState() {\n        setIsOpen(!isOpen);\n      }\n    \n      function add() {\n\n        const newEdu= new education(count);\n        setCount(count+1);\n        var nlst = eduLst.slice();\n        nlst.push(newEdu);\n        setEduLst(nlst)\n        dispatch(editEducationInfo(nlst));\n      };\n\n      function remove(index) {\n        var nlst = eduLst.slice();\n        for (var i of nlst) {\n          // console.log(index)\n          if (i.index === index) {\n            nlst.splice(i, 1);\n          }\n        }\n        // console.log(nlst);\n        setEduLst(nlst);\n        dispatch(editEducationInfo(nlst));\n      };\n\n      function update(index, obj) {\n        var e;\n        var nlst = eduLst.slice();\n        // console.log(obj);\n        for (e of nlst) {\n          if (e.index === index) {\n            e = obj;\n          }\n        }\n        setEduLst(nlst);\n        dispatch(editEducationInfo(nlst));\n      }\n\n      if(!isOpen) {\n          return(\n            <Form.Item label=\"学术经历 \">\n              <Button type=\"primary small\" onClick={switchState}>Expand</Button>\n            </Form.Item>\n          )\n      } else {\n          return(\n              <Form.Item label=\"学术经历 \">\n                  {toShow}\n                  <Button type=\"primary small\" onClick={add}>Add</Button>\n                  <Button type=\"primary small\" onClick={switchState}>Collapse</Button>\n              </Form.Item>\n          )\n      }\n}\n\nfunction EducationUnit (props) {\n  let eduUnit = props.value;\n  let index = props.key;\n  let update = props.callBk;\n  let remove = props.delete;\n  console.log(index);\n\n  function onChange(value, key) {\n    // console.log(edu);\n    eduUnit[key] = value;\n    update(eduUnit.index, eduUnit);\n    // forceUpdate();\n  };\n\n  return(\n    <div>\n      <Form.Item label=\"所在学校： \">\n        <Input placeholder=\"请输入就读学校名称\" value={eduUnit.school} onChange={(e)=>onChange(e, 'school')}></Input>\n      </Form.Item>\n      <Form.Item label=\"时间： \">\n        <Layout.Col span=\"8\">\n          <Form.Item labelWidth=\"0px\">\n            <DatePicker\n              value={eduUnit.startDate}\n              placeholder=\"选择开始日期\"\n              onChange={(e)=> onChange.bind(e, 'startDate')}\n            />\n          </Form.Item>\n        </Layout.Col>\n        <Layout.Col className=\"line\" span=\"2\">-</Layout.Col>\n        <Layout.Col span=\"8\">\n          <Form.Item labelWidth=\"0px\">\n            <DatePicker\n              value={eduUnit.endDate}\n              placeholder=\"选择结束日期\"\n              onChange={(e)=>onChange.bind(e, 'endDate')}\n            />\n          </Form.Item>\n          </Layout.Col>\n        </Form.Item>\n      <Form.Item label=\"专业： \">\n        <Input placeholder=\"请输入主要专业\" value={eduUnit.major} onChange={(e)=> onChange(e, 'major')}></Input>\n      </Form.Item>\n      <Form.Item label=\"专业课程： \">\n        <Input placeholder=\"请输入主要学习课程\"  value={eduUnit.courses} onChange={(e)=> onChange(e, \"courses\")}></Input>\n      </Form.Item>\n      <Button type=\"text\" icon=\"delete\" onClick={(index) => {console.log(index); remove(index)}}></Button>\n    </div>\n\n  );\n}\n\nfunction mapStateToProps(state) {\n    var eduExp = state.updateUser.user.educationExperience;\n    // console.log(eduExp);\n    return {eduExp};\n}\n\nexport default connect(mapStateToProps)(EducationInfo);"]},"metadata":{},"sourceType":"module"}